{"version":3,"sources":["shared/components/AuthBox.js","shared/components/CustomPrimaryButton.js","shared/components/RedirectInfo.js","authPages/LoginPage/LoginPageFooter.js","authPages/LoginPage/LoginPageHeader.js","shared/components/InputWithLabel.js","authPages/LoginPage/LoginPageInputs.js","shared/utils/validators.js","shared/utils/auth.js","api.js","store/actions/alertActions.js","store/actions/authActions.js","authPages/LoginPage/LoginPage.js","authPages/RegisterPage/RegisterPageInputs.js","authPages/RegisterPage/RegisterPageFooter.js","authPages/RegisterPage/RegisterPage.js","Dashboard/SideBar/MainPageButton.js","store/reducers/authReducer.js","store/reducers/alertReducer.js","store/actions/friendsActions.js","store/reducers/friendsReducer.js","store/actions/chatActions.js","store/reducers/chatReducer.js","store/actions/roomActions.js","store/reducers/roomReducer.js","store/store.js","shared/utils/chat.js","realtimeCommunication/webRTCHandler.js","realtimeCommunication/socketConnection.js","realtimeCommunication/roomHandler.js","Dashboard/SideBar/CreateRoomButton.js","shared/components/Avatar.js","Dashboard/SideBar/ActiveRoomButton.js","Dashboard/SideBar/SideBar.js","Dashboard/FriendsSideBar/AddFriendDialog.js","Dashboard/FriendsSideBar/AddFriendButton.js","Dashboard/FriendsSideBar/FriendsTitle.js","Dashboard/FriendsSideBar/FriendsList/OnlineIndicator.js","Dashboard/FriendsSideBar/FriendsList/FriendsListItem.js","Dashboard/FriendsSideBar/FriendsList/FriendsList.js","Dashboard/FriendsSideBar/PendingInvitationsList/InvitationDecisionButtons.js","Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsListItem.js","Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsList.js","Dashboard/FriendsSideBar/FriendsSideBar.js","Dashboard/Messenger/WelcomeMessage.js","Dashboard/Messenger/Messages/MessagesHeader.js","Dashboard/Messenger/Messages/Message.js","Dashboard/Messenger/Messages/DateSeparator.js","Dashboard/Messenger/Messages/Messages.js","Dashboard/Messenger/NewMessageInput.js","Dashboard/Messenger/MessengerContent.js","Dashboard/Messenger/Messenger.js","Dashboard/AppBar/DropdownMenu.js","Dashboard/AppBar/ChosenOptionLabel.js","Dashboard/AppBar/AppBar.js","Dashboard/Room/ResizeRoomButton.js","Dashboard/Room/Video.js","Dashboard/Room/VideosContainer.js","Dashboard/Room/RoomButtons/CameraButton.js","Dashboard/Room/RoomButtons/MicButton.js","Dashboard/Room/RoomButtons/CloseRoomButton.js","Dashboard/Room/RoomButtons/ScreenShareButton.js","Dashboard/Room/RoomButtons/RoomButtons.js","Dashboard/Room/Room.js","Dashboard/Dashboard.js","homePage/image/btob.png","homePage/image/discord.png","homePage/image/follow.png","homePage/image/podcast.png","homePage/image/recherche.png","homePage/image/wifi.png","homePage/image/ProgResApp1.png","homePage/image/Contact.jpg","homePage/HomePage.js","shared/components/AlertNotification.js","App.js","serviceWorker.js","index.js"],"names":["BoxWrapper","styled","width","height","display","alignItems","justifyContent","background","AuthBox","props","_jsx","children","Box","sx","bgcolor","borderRadius","boxShadow","flexDirection","padding","CustomPrimaryButton","_ref","label","additionalStyles","disabled","onClick","Button","variant","color","textTransform","fontSize","fontWeight","style","RedirectText","cursor","RedirectInfo","text","redirectText","redirectHandler","_jsxs","Typography","LoginPageFooter","handleLogin","isFormValid","history","useHistory","_Fragment","Tooltip","title","marginTop","push","LoginPageHeader","Wrapper","Label","Input","flexGrow","border","margin","InputWithLabel","value","setValue","type","placeholder","onChange","event","target","LoginPageInputs","mail","setMail","password","setPassword","validatePassword","length","validateMail","test","validateUsername","username","logout","localStorage","clear","window","location","pathname","apiClient","axios","create","baseURL","timeout","interceptors","request","use","config","userDetails","getItem","token","JSON","parse","headers","Authorization","concat","err","Promise","reject","login","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","post","abrupt","sent","t0","error","exception","stop","_x","apply","arguments","register","_ref2","_callee2","_context2","_x2","sendFriendInvitation","_ref3","_callee3","_context3","checkResponseCode","_x3","acceptFriendInvitation","_ref4","_callee4","_context4","_x4","rejectFriendInvitation","_ref5","_callee5","_context5","_x5","_exception$response","responseCode","response","status","alertActions","OPEN_ALERT_MESSAGE","CLOSE_ALERT_MESSAGE","openAlertMessage","content","closeAlertMessage","authActions","getActions","dispatch","setUserDetails","_response$exception","_response$exception$r","_response$data","_userDetails","api","console","log","setItem","stringify","_response$exception2","_response$exception2$","_response$data2","_userDetails2","connect","_objectSpread","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","_useState5","_useState6","setIsFormValid","useEffect","isMailValid","isPasswordValid","validateLoginForm","RegisterPageInputs","setUsername","RegisterPageFooter","handleRegister","_useState7","_useState8","validateRegisterForm","MainPageButton","minWidth","backgroundColor","GroupsIcon","initState","reducer","state","undefined","action","showAlertMessage","alertMessageContent","friendsActions","closeDialogHandler","_response$exception3","_response$exception3$","friends","pendingFriendsInvitations","onlineUsers","chatTypes","chatActions","setChosenChatDetails","chatDetails","chatType","chosenChatDetails","messages","roomActions","setOpenRoom","isUserRoomCreator","isUserInRoom","setAudioOnly","audioOnly","setScreenSharingStream","stream","setRoomDetails","roomDetails","setLocalStream","localStream","setRemoteStreams","remoteStreams","isScreenSharingActive","screenSharingStream","setIsUserJoinedOnlyWithAudio","onlyWithAudio","isUserJoinedWithOnlyAudio","activeRooms","rootReducer","combineReducers","auth","authReducer","alert","alertReducer","friendsReducer","chat","chatReducer","room","roomReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","updateChatHistoryIfSameConversationActive","participants","usersInCoversation","every","participantId","includes","setMessages","onlyAudioConstraints","audio","video","defaultConstraints","getLocalStreamPreview","callbackFunc","constraints","navigator","mediaDevices","getUserMedia","then","catch","peers","prepareNewPeerConnection","connUserSocketId","isInitiator","getState","Peer","initiator","warn","iceServers","urls","on","socketConnection","signal","remoteStream","addNewRemoteStream","newRemoteStreams","_toConsumableArray","switchOutgoingTracks","socket_id","index","streams","getTracks","index2","kind","replaceTrack","socket","connectWithSocketServer","jwtToken","io","id","pendingInvitations","setFriends","setOnlineUsers","_store$getState$chat$","receiverId","userId","_id","updateDirectChatHistoryIfActive","roomHandler","webRTCHandler","emit","destroy","filter","signalPeerData","createNewRoom","newRoomCreated","updateActiveRooms","_store$getState$auth$","rooms","forEach","roomCreator","creatorUsername","f","setActiveRooms","joinRoom","roomId","leaveRoom","track","Object","entries","mappedObject","CreateRoomButton","AddIcon","AvatarPreview","Avatar","large","substring","ActiveRoomButton","amountOfParticipants","activeRoomButtonDisabled","roomTitle","MainContainer","map","isDialogOpen","_ref$sendFriendInvita","handleCloseDialog","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","targetMailAddress","marginLeft","marginRight","marginBottom","AddFriendButton","setIsDialogOpen","AddFriendDialog","FriendsTitle","OnlineIndicator","position","right","FiberManualRecordIcon","details","isOnline","name","align","checkOnlineUsers","isUserOnline","find","user","FriendsListItem","InvitationDecisionButtons","acceptInvitationHandler","rejectInvitationHandler","IconButton","CheckIcon","ClearIcon","_ref$acceptFriendInvi","_ref$rejectFriendInvi","buttonsDisabled","setButtonsDisabled","overflow","invitation","PendingInvitationsListItem","senderId","FriendsSideBar","FriendsList","PendingInvitationsList","WelcomeMessage","MessagesHeader","_ref$name","AvatarContainer","MessageContainer","MessageContent","SameAuthorMessageContent","SameAuthorMessageText","Message","sameAuthor","date","sameDay","Separator","DateLabel","left","top","DateSeparator","convertDateToHumanReadable","format","mm","getMonth","dd","getDate","yy","getFullYear","toString","slice","yyyy","replace","matched","message","author","Date","setMessage","handleSendMessage","receiverUserId","onKeyDown","key","MessengerContent","Messages","NewMessageInput","_React$useState","React","_React$useState2","anchorEl","setAnchorEl","Boolean","currentTarget","MoreVertIcon","Menu","MenuListProps","MenuItem","_state$chat$chosenCha","borderBottom","AppBar","ChosenOptionLabel","DropdownMenu","bottom","ResizeRoomButton","isRoomMinimized","handleRoomResize","OpenInFullIcon","CloseFullscreenIcon","VideoEl","Video","isLocalStream","videoRef","useRef","current","srcObject","onloadedmetadata","play","ref","autoPlay","muted","flexWrap","CameraButton","cameraEnabled","setCameraEnabled","getVideoTracks","enabled","VideocamIcon","VideocamOffIcon","MicButton","micEnabled","setMicEnabled","getAudioTracks","MicIcon","MicOffIcon","CloseRoomButton","CloseIcon","ScreenShareButton","handleScreenShareToggle","getDisplayMedia","t","StopScreenShareIcon","ScreenShareIcon","borderTopLeftRadius","borderTopRightRadius","fullScreenRoomStyle","minimizedRoomStyle","Room","setIsRoomMinimized","VideosContainer","RoomButtons","SideBar","Messenger","HomePage","className","href","Link","to","src","icon1","alt","icon2","icon3","icon4","icon5","icon6","appercu","contact","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","severity","App","Router","Switch","Route","exact","path","LoginPage","RegisterPage","Dashboard","Redirect","AlertNotification","hostname","match","ReactDOM","render","StrictMode","Provider","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bc25c85f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst BoxWrapper = styled(\"div\")({\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  background: \"#5865F2\",\r\n});\r\n\r\nconst AuthBox = (props) => {\r\n  return (\r\n    <BoxWrapper>\r\n      <Box\r\n        sx={{\r\n          width: 700,\r\n          height: 400,\r\n          bgcolor: \"#36393f\",\r\n          borderRadius: \"5px\",\r\n          boxShadow: \"0 2px 10px 0 rgb(0 0 0 / 20%)\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          padding: \"25px\",\r\n        }}\r\n      >\r\n        {props.children}\r\n      </Box>\r\n    </BoxWrapper>\r\n  );\r\n};\r\n\r\nexport default AuthBox;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nconst CustomPrimaryButton = ({\r\n  label,\r\n  additionalStyles,\r\n  disabled,\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      sx={{\r\n        bgcolor: \"#5865F2\",\r\n        color: \"white\",\r\n        textTransform: \"none\",\r\n        fontSize: \"16px\",\r\n        fontWeight: 500,\r\n        width: \"100%\",\r\n        height: \"40px\",\r\n      }}\r\n      style={additionalStyles ? additionalStyles : {}}\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n    >\r\n      {label}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default CustomPrimaryButton;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst RedirectText = styled(\"span\")({\r\n  color: \"#00AFF4\",\r\n  fontWeight: 500,\r\n  cursor: \"pointer\",\r\n});\r\n\r\nconst RedirectInfo = ({\r\n  text,\r\n  redirectText,\r\n  additionalStyles,\r\n  redirectHandler,\r\n}) => {\r\n  return (\r\n    <Typography\r\n      sx={{ color: \"#72767d\" }}\r\n      style={additionalStyles ? additionalStyles : {}}\r\n      variant=\"subtitle2\"\r\n    >\r\n      {text}\r\n      <RedirectText onClick={redirectHandler}>{redirectText}</RedirectText>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default RedirectInfo;\r\n","import React from \"react\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tooltip } from \"@mui/material\";\r\n\r\nconst getFormNotValidMessage = () => {\r\n  return \"Entrer une adresse e-mail correcte entre 6 et 12 caractères\";\r\n};\r\n\r\nconst getFormValidMessage = () => {\r\n  return \"Appuyer pour connecter!\";\r\n};\r\n\r\nconst LoginPageFooter = ({ handleLogin, isFormValid }) => {\r\n  const history = useHistory();\r\n\r\n  const handlePushToRegisterPage = () => {\r\n    history.push(\"/register\");\r\n  };\r\n\r\n  const handlePushToHomePage = () => {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Tooltip\r\n        title={!isFormValid ? getFormNotValidMessage() : getFormValidMessage()}\r\n      >\r\n        <div>\r\n          <CustomPrimaryButton\r\n            label=\"Se connecter\"\r\n            additionalStyles={{ marginTop: \"30px\" }}\r\n            disabled={!isFormValid}\r\n            onClick={handleLogin}\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n      <RedirectInfo\r\n        text=\"Pour s'inscrire? \"\r\n        redirectText=\"Registration\"\r\n        additionalStyles={{ marginTop: \"5px\" }}\r\n        redirectHandler={handlePushToRegisterPage}\r\n      />\r\n\r\n      <RedirectInfo\r\n        text=\"Accueil : \"\r\n        redirectText=\"Page web\"\r\n        additionalStyles={{ marginTop: \"5px\" }}\r\n        redirectHandler={handlePushToHomePage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageFooter;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst LoginPageHeader = () => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" sx={{ color: \"white\" }}>\r\n        Bienvenue!\r\n      </Typography>\r\n      <Typography sx={{ color: \"#b9bbbe\" }}>\r\n        Nous sommes heureux de vous avoir parmis nous!\r\n      </Typography>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageHeader;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  flexDirection: \"column\",\r\n  width: \"100%\",\r\n});\r\n\r\nconst Label = styled(\"p\")({\r\n  color: \"#b9bbbe\",\r\n  textTransform: \"uppercase\",\r\n  fontWeight: \"600\",\r\n  fontSize: \"16px\",\r\n});\r\n\r\nconst Input = styled(\"input\")({\r\n  flexGrow: 1,\r\n  height: \"40px\",\r\n  border: \"1px solid black\",\r\n  borderRadius: \"5px\",\r\n  color: \"#dcddde\",\r\n  background: \"#35393f\",\r\n  margin: 0,\r\n  fontSize: \"16px\",\r\n  padding: \"0 5px\",\r\n});\r\n\r\nconst InputWithLabel = (props) => {\r\n  const { value, setValue, label, type, placeholder } = props;\r\n\r\n  const handleValueChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Label>{label}</Label>\r\n      <Input\r\n        value={value}\r\n        onChange={handleValueChange}\r\n        type={type}\r\n        placeholder={placeholder}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default InputWithLabel;\r\n","import React from \"react\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\n\r\nconst LoginPageInputs = ({ mail, setMail, password, setPassword }) => {\r\n  return (\r\n    <>\r\n      <InputWithLabel\r\n        value={mail}\r\n        setValue={setMail}\r\n        label=\"E-mail\"\r\n        type=\"text\"\r\n        placeholder=\"Entrer l'adresse e-mail\"\r\n      />\r\n      <InputWithLabel\r\n        value={password}\r\n        setValue={setPassword}\r\n        label=\"Mot de passe\"\r\n        type=\"password\"\r\n        placeholder=\"Entrer votre mot de passe\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageInputs;\r\n","export const validateLoginForm = ({ mail, password }) => {\r\n  const isMailValid = validateMail(mail);\r\n  const isPasswordValid = validatePassword(password);\r\n\r\n  return isMailValid && isPasswordValid;\r\n};\r\n\r\nexport const validateRegisterForm = ({ mail, password, username }) => {\r\n  return (\r\n    validateMail(mail) &&\r\n    validatePassword(password) &&\r\n    validateUsername(username)\r\n  );\r\n};\r\n\r\nconst validatePassword = (password) => {\r\n  return password.length > 5 && password.length < 13;\r\n};\r\n\r\nexport const validateMail = (mail) => {\r\n  const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n  return emailPattern.test(mail);\r\n};\r\n\r\nconst validateUsername = (username) => {\r\n  return username.length > 2 && username.length < 13;\r\n};\r\n","export const logout = () => {\r\n  localStorage.clear();\r\n  window.location.pathname = \"/login\";\r\n};\r\n","import axios from \"axios\";\r\nimport { logout } from \"./shared/utils/auth\";\r\n\r\nconst apiClient = axios.create({\r\n  // baseURL: \"http://localhost:5002/api\",\r\n  baseURL: \"http://192.168.43.174:5002/api\",\r\n  timeout: 1000,\r\n});\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const userDetails = localStorage.getItem(\"user\");\r\n\r\n    if (userDetails) {\r\n      const token = JSON.parse(userDetails).token;\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    return config;\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\n// public routes\r\n\r\nexport const login = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/auth/login\", data);\r\n  } catch (exception) {\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const register = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/auth/register\", data);\r\n  } catch (exception) {\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\n// secure routes\r\nexport const sendFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/invite\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const acceptFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/accept\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const rejectFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/reject\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nconst checkResponseCode = (exception) => {\r\n  const responseCode = exception?.response?.status;\r\n\r\n  if (responseCode) {\r\n    (responseCode === 401 || responseCode === 403) && logout();\r\n  }\r\n};\r\n","const alertActions = {\r\n  OPEN_ALERT_MESSAGE: \"ALERT.OPEN_ALERT_MESSAGE\",\r\n  CLOSE_ALERT_MESSAGE: \"ALERT.CLOSE_ALERT_MESSAGE\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    openAlertMessage: (content) => dispatch(openAlertMessage(content)),\r\n    closeAlertMessage: () => dispatch(closeAlertMessage()),\r\n  };\r\n};\r\n\r\nexport const openAlertMessage = (content) => {\r\n  return {\r\n    type: alertActions.OPEN_ALERT_MESSAGE,\r\n    content,\r\n  };\r\n};\r\n\r\nexport const closeAlertMessage = () => {\r\n  return {\r\n    type: alertActions.CLOSE_ALERT_MESSAGE,\r\n  };\r\n};\r\n\r\nexport default alertActions;\r\n","import * as api from \"../../api\";\r\nimport { openAlertMessage } from \"./alertActions\";\r\n\r\nexport const authActions = {\r\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    login: (userDetails, history) => dispatch(login(userDetails, history)),\r\n    register: (userDetails, history) =>\r\n      dispatch(register(userDetails, history)),\r\n    setUserDetails: (userDetails) => dispatch(setUserDetails(userDetails)),\r\n  };\r\n};\r\n\r\nconst setUserDetails = (userDetails) => {\r\n  return {\r\n    type: authActions.SET_USER_DETAILS,\r\n    userDetails,\r\n  };\r\n};\r\n\r\nconst login = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    const response = await api.login(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n\r\nconst register = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    const response = await api.register(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AuthBox from \"../../shared/components/AuthBox\";\r\nimport LoginPageFooter from \"./LoginPageFooter\";\r\nimport LoginPageHeader from \"./LoginPageHeader\";\r\nimport LoginPageInputs from \"./LoginPageInputs\";\r\nimport { validateLoginForm } from \"../../shared/utils/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/authActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoginPage = ({ login }) => {\r\n  const history = useHistory();\r\n\r\n  const [mail, setMail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(validateLoginForm({ mail, password }));\r\n  }, [mail, password, setIsFormValid]);\r\n\r\n  const handleLogin = () => {\r\n    const userDetails = {\r\n      mail,\r\n      password,\r\n    };\r\n\r\n    login(userDetails, history);\r\n  };\r\n\r\n  return (\r\n    <AuthBox>\r\n      <LoginPageHeader />\r\n      <LoginPageInputs\r\n        mail={mail}\r\n        setMail={setMail}\r\n        password={password}\r\n        setPassword={setPassword}\r\n      />\r\n      <LoginPageFooter isFormValid={isFormValid} handleLogin={handleLogin} />\r\n    </AuthBox>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(LoginPage);\r\n","import React from \"react\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\n\r\nconst RegisterPageInputs = (props) => {\r\n  const { mail, setMail, username, setUsername, password, setPassword } = props;\r\n\r\n  return (\r\n    <>\r\n      <InputWithLabel\r\n        value={mail}\r\n        setValue={setMail}\r\n        label=\"Adresse E-mail\"\r\n        type=\"text\"\r\n        placeholder=\"Enter l'adresse E-mail\"\r\n      />\r\n      <InputWithLabel\r\n        value={username}\r\n        setValue={setUsername}\r\n        label=\"Nom d'utilisateur\"\r\n        type=\"text\"\r\n        placeholder=\"Enter votre nom\"\r\n      />\r\n      <InputWithLabel\r\n        value={password}\r\n        setValue={setPassword}\r\n        label=\"Mot de passe\"\r\n        type=\"password\"\r\n        placeholder=\"Enter votre mot de passe\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPageInputs;\r\n","import React from \"react\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tooltip } from \"@mui/material\";\r\n\r\nconst getFormNotValidMessage = () => {\r\n  return \"Votre nom doit comporter entre 3 et 12 caractères et le mot de passe doit contenir entre 6 et 12 caractère. En plus l'adresse e-mail doit s'ecrire comporter une @ et le nom de domaine\";\r\n};\r\n\r\nconst getFormValidMessage = () => {\r\n  return \"Appuyer pour l'enregistrement!\";\r\n};\r\n\r\nconst RegisterPageFooter = ({ handleRegister, isFormValid }) => {\r\n  const history = useHistory();\r\n\r\n  const handlePushToLoginPage = () => {\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip\r\n        title={!isFormValid ? getFormNotValidMessage() : getFormValidMessage()}\r\n      >\r\n        <div>\r\n          <CustomPrimaryButton\r\n            label=\"S'enregistrer\"\r\n            additionalStyles={{ marginTop: \"30px\" }}\r\n            disabled={!isFormValid}\r\n            onClick={handleRegister}\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n      <RedirectInfo\r\n        text=\"\"\r\n        redirectText=\"Vous êtes deja inscrit?\"\r\n        additionalStyles={{ marginTop: \"5px\" }}\r\n        redirectHandler={handlePushToLoginPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPageFooter;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport AuthBox from \"../../shared/components/AuthBox\";\r\nimport RegisterPageInputs from \"./RegisterPageInputs\";\r\nimport RegisterPageFooter from \"./RegisterPageFooter\";\r\nimport { validateRegisterForm } from \"../../shared/utils/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/authActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RegisterPage = ({ register }) => {\r\n  const history = useHistory();\r\n\r\n  const [mail, setMail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  const handleRegister = () => {\r\n    const userDetails = {\r\n      mail,\r\n      password,\r\n      username,\r\n    };\r\n\r\n    register(userDetails, history);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(\r\n      validateRegisterForm({\r\n        mail,\r\n        username,\r\n        password,\r\n      })\r\n    );\r\n  }, [mail, username, password, setIsFormValid]);\r\n\r\n  return (\r\n    <AuthBox>\r\n      <Typography variant=\"h5\" sx={{ color: \"white \" }}>\r\n        Créér une compte\r\n      </Typography>\r\n      <RegisterPageInputs\r\n        mail={mail}\r\n        setMail={setMail}\r\n        username={username}\r\n        setUsername={setUsername}\r\n        password={password}\r\n        setPassword={setPassword}\r\n      />\r\n      <RegisterPageFooter\r\n        handleRegister={handleRegister}\r\n        isFormValid={isFormValid}\r\n      />\r\n    </AuthBox>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(RegisterPage);\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport GroupsIcon from \"@mui/icons-material/Groups\";\r\n\r\nconst MainPageButton = () => {\r\n  return (\r\n    <Button\r\n      style={{\r\n        width: \"48px\",\r\n        height: \"48px\",\r\n        borderRadius: \"16px\",\r\n        margin: 0,\r\n        padding: 0,\r\n        minWidth: 0,\r\n        marginTop: \"10px\",\r\n        color: \"white\",\r\n        backgroundColor: \"#5865F2\",\r\n      }}\r\n    >\r\n      <GroupsIcon />\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default MainPageButton;\r\n","import { authActions } from \"../actions/authActions\";\r\n\r\nconst initState = {\r\n  userDetails: null,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case authActions.SET_USER_DETAILS:\r\n      return {\r\n        ...state,\r\n        userDetails: action.userDetails,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import alertActions from \"../actions/alertActions\";\r\n\r\nconst initState = {\r\n  showAlertMessage: false,\r\n  alertMessageContent: null,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case alertActions.OPEN_ALERT_MESSAGE:\r\n      return {\r\n        ...state,\r\n        showAlertMessage: true,\r\n        alertMessageContent: action.content,\r\n      };\r\n    case alertActions.CLOSE_ALERT_MESSAGE:\r\n      return {\r\n        ...state,\r\n        showAlertMessage: false,\r\n        alertMessageContent: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { openAlertMessage } from \"./alertActions\";\r\nimport * as api from \"../../api\";\r\n\r\nexport const friendsActions = {\r\n  SET_FRIENDS: \"FRIENDS.SET_FRIENDS\",\r\n  SET_PENDING_FRIENDS_INVITATIONS: \"FRIENDS.SET_PENDING_FRIENDS_INVITATIONS\",\r\n  SET_ONLINE_USERS: \"FRIENDS.SET_ONLINE_USERS\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    sendFriendInvitation: (data, closeDialogHandler) =>\r\n      dispatch(sendFriendInvitation(data, closeDialogHandler)),\r\n    acceptFriendInvitation: (data) => dispatch(acceptFriendInvitation(data)),\r\n    rejectFriendInvitation: (data) => dispatch(rejectFriendInvitation(data)),\r\n  };\r\n};\r\n\r\nexport const setPendingFriendsInvitations = (pendingFriendsInvitations) => {\r\n  return {\r\n    type: friendsActions.SET_PENDING_FRIENDS_INVITATIONS,\r\n    pendingFriendsInvitations,\r\n  };\r\n};\r\n\r\nexport const setFriends = (friends) => {\r\n  return {\r\n    type: friendsActions.SET_FRIENDS,\r\n    friends,\r\n  };\r\n};\r\n\r\nexport const setOnlineUsers = (onlineUsers) => {\r\n  return {\r\n    type: friendsActions.SET_ONLINE_USERS,\r\n    onlineUsers,\r\n  };\r\n};\r\n\r\nconst sendFriendInvitation = (data, closeDialogHandler) => {\r\n  return async (dispatch) => {\r\n    const response = await api.sendFriendInvitation(data);\r\n\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response.exception?.response?.data));\r\n    } else {\r\n      dispatch(openAlertMessage(\"Invitation has been sent!\"));\r\n      closeDialogHandler();\r\n    }\r\n  };\r\n};\r\n\r\nconst acceptFriendInvitation = (data) => {\r\n  return async (dispatch) => {\r\n    const response = await api.acceptFriendInvitation(data);\r\n\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response.exception?.response?.data));\r\n    } else {\r\n      dispatch(openAlertMessage(\"Invitation accepted!\"));\r\n    }\r\n  };\r\n};\r\n\r\nconst rejectFriendInvitation = (data) => {\r\n  return async (dispatch) => {\r\n    const response = await api.rejectFriendInvitation(data);\r\n\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response.exception?.response?.data));\r\n    } else {\r\n      dispatch(openAlertMessage(\"Invitation rejected!\"));\r\n    }\r\n  };\r\n};\r\n","import { friendsActions } from \"../actions/friendsActions\";\r\n\r\nconst initState = {\r\n  friends: [],\r\n  pendingFriendsInvitations: [],\r\n  onlineUsers: [],\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case friendsActions.SET_PENDING_FRIENDS_INVITATIONS:\r\n      return {\r\n        ...state,\r\n        pendingFriendsInvitations: action.pendingFriendsInvitations,\r\n      };\r\n    case friendsActions.SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        friends: action.friends,\r\n      };\r\n    case friendsActions.SET_ONLINE_USERS:\r\n      return {\r\n        ...state,\r\n        onlineUsers: action.onlineUsers,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","export const chatTypes = {\r\n  DIRECT: \"DIRECT\",\r\n  GROUP: \"GROUP\",\r\n};\r\n\r\nexport const chatActions = {\r\n  SET_CHOSEN_CHAT_DETAILS: \"CHAT.SET_CHOSEN_CHAT_DETAILS\",\r\n  SET_MESSAGES: \"CHAT.SET_MESSAGES\",\r\n  SET_CHAT_TYPE: \"CHAT.SET_CHAT_TYPE\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    setChosenChatDetails: (details, chatType) =>\r\n      dispatch(setChosenChatDetails(details, chatType)),\r\n  };\r\n};\r\n\r\nexport const setChosenChatDetails = (chatDetails, type) => {\r\n  return {\r\n    type: chatActions.SET_CHOSEN_CHAT_DETAILS,\r\n    chatType: type,\r\n    chatDetails,\r\n  };\r\n};\r\n\r\nexport const setMessages = (messages) => {\r\n  return {\r\n    type: chatActions.SET_MESSAGES,\r\n    messages,\r\n  };\r\n};\r\n","import { chatActions } from \"../actions/chatActions\";\r\n\r\nconst initState = {\r\n  chosenChatDetails: null,\r\n  chatType: null,\r\n  messages: [],\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case chatActions.SET_CHOSEN_CHAT_DETAILS:\r\n      return {\r\n        ...state,\r\n        chosenChatDetails: action.chatDetails,\r\n        chatType: action.chatType,\r\n        messages: [],\r\n      };\r\n    case chatActions.SET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: action.messages,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","export const roomActions = {\r\n  OPEN_ROOM: \"ROOM.OPEN_ROOM\",\r\n  SET_ROOM_DETAILS: \"ROOM.SET_ROOM_DETAILS\",\r\n  SET_ACTIVE_ROOMS: \"ROOM.SET_ACTIVE_ROOMS\",\r\n  SET_LOCAL_STREAM: \"ROOM.SET_LOCAL_STREAM\",\r\n  SET_REMOTE_STREAMS: \"ROOM.SET_REMOTE_STREAMS\",\r\n  SET_AUDIO_ONLY: \"ROOM.SET_AUDIO_ONLY\",\r\n  SET_SCREEN_SHARE_STREAM: \"ROOM.SET_SCREEN_SHARE_STREAM\",\r\n  SET_IS_USER_JOINED_WITH_ONLY_AUDIO: \"ROOM.SET_IS_USER_JOINED_WITH_ONLY_AUDIO\",\r\n};\r\n\r\nexport const setOpenRoom = (\r\n  isUserRoomCreator = false,\r\n  isUserInRoom = false\r\n) => {\r\n  return {\r\n    type: roomActions.OPEN_ROOM,\r\n    isUserRoomCreator,\r\n    isUserInRoom,\r\n  };\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    setAudioOnly: (audioOnly) => dispatch(setAudioOnly(audioOnly)),\r\n    setScreenSharingStream: (stream) => {\r\n      dispatch(setScreenSharingStream(stream));\r\n    },\r\n  };\r\n};\r\n\r\nexport const setRoomDetails = (roomDetails) => {\r\n  return {\r\n    type: roomActions.SET_ROOM_DETAILS,\r\n    roomDetails,\r\n  };\r\n};\r\n\r\nexport const setActiveRooms = (activeRooms) => {\r\n  return {\r\n    type: roomActions.SET_ACTIVE_ROOMS,\r\n    activeRooms,\r\n  };\r\n};\r\n\r\nexport const setLocalStream = (localStream) => {\r\n  return {\r\n    type: roomActions.SET_LOCAL_STREAM,\r\n    localStream,\r\n  };\r\n};\r\n\r\nexport const setAudioOnly = (audioOnly) => {\r\n  return {\r\n    type: roomActions.SET_AUDIO_ONLY,\r\n    audioOnly,\r\n  };\r\n};\r\n\r\nexport const setRemoteStreams = (remoteStreams) => {\r\n  return {\r\n    type: roomActions.SET_REMOTE_STREAMS,\r\n    remoteStreams,\r\n  };\r\n};\r\n\r\nexport const setScreenSharingStream = (stream) => {\r\n  return {\r\n    type: roomActions.SET_SCREEN_SHARE_STREAM,\r\n    isScreenSharingActive: stream ? true : false,\r\n    screenSharingStream: stream || null,\r\n  };\r\n};\r\n\r\nexport const setIsUserJoinedOnlyWithAudio = (onlyWithAudio) => {\r\n  return {\r\n    type: roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO,\r\n    isUserJoinedWithOnlyAudio: onlyWithAudio,\r\n  };\r\n};\r\n","import { roomActions } from \"../actions/roomActions\";\r\n\r\nconst initState = {\r\n  isUserInRoom: false,\r\n  isUserRoomCreator: false,\r\n  roomDetails: null,\r\n  activeRooms: [],\r\n  localStream: null,\r\n  remoteStreams: [],\r\n  audioOnly: false,\r\n  screenSharingStream: null,\r\n  isScreenSharingActive: false,\r\n  isUserJoinedWithOnlyAudio: false,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case roomActions.OPEN_ROOM:\r\n      return {\r\n        ...state,\r\n        isUserInRoom: action.isUserInRoom,\r\n        isUserRoomCreator: action.isUserRoomCreator,\r\n      };\r\n    case roomActions.SET_ROOM_DETAILS:\r\n      return {\r\n        ...state,\r\n        roomDetails: action.roomDetails,\r\n      };\r\n    case roomActions.SET_ACTIVE_ROOMS:\r\n      return {\r\n        ...state,\r\n        activeRooms: action.activeRooms,\r\n      };\r\n    case roomActions.SET_LOCAL_STREAM:\r\n      return {\r\n        ...state,\r\n        localStream: action.localStream,\r\n      };\r\n    case roomActions.SET_AUDIO_ONLY:\r\n      return {\r\n        ...state,\r\n        audioOnly: action.audioOnly,\r\n      };\r\n    case roomActions.SET_REMOTE_STREAMS:\r\n      return {\r\n        ...state,\r\n        remoteStreams: action.remoteStreams,\r\n      };\r\n    case roomActions.SET_SCREEN_SHARE_STREAM:\r\n      return {\r\n        ...state,\r\n        screenSharingStream: action.screenSharingStream,\r\n        isScreenSharingActive: action.isScreenSharingActive,\r\n      };\r\n    case roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO:\r\n      return {\r\n        ...state,\r\n        isUserJoinedWithOnlyAudio: action.isUserJoinedWithOnlyAudio,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { combineReducers, createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport alertReducer from \"./reducers/alertReducer\";\r\nimport friendsReducer from \"./reducers/friendsReducer\";\r\nimport chatReducer from \"./reducers/chatReducer\";\r\nimport roomReducer from \"./reducers/roomReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  alert: alertReducer,\r\n  friends: friendsReducer,\r\n  chat: chatReducer,\r\n  room: roomReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import store from \"../../store/store\";\r\nimport { setMessages } from \"../../store/actions/chatActions\";\r\n\r\nexport const updateDirectChatHistoryIfActive = (data) => {\r\n  const { participants, messages } = data;\r\n\r\n  // find id of user from token and id from active conversation\r\n  const receiverId = store.getState().chat.chosenChatDetails?.id;\r\n  const userId = store.getState().auth.userDetails._id;\r\n\r\n  if (receiverId && userId) {\r\n    const usersInCoversation = [receiverId, userId];\r\n\r\n    updateChatHistoryIfSameConversationActive({\r\n      participants,\r\n      usersInCoversation,\r\n      messages,\r\n    });\r\n  }\r\n};\r\n\r\nconst updateChatHistoryIfSameConversationActive = ({\r\n  participants,\r\n  usersInCoversation,\r\n  messages,\r\n}) => {\r\n  const result = participants.every(function (participantId) {\r\n    return usersInCoversation.includes(participantId);\r\n  });\r\n\r\n  if (result) {\r\n    store.dispatch(setMessages(messages));\r\n  }\r\n};\r\n","import store from \"../store/store\";\r\nimport { setLocalStream, setRemoteStreams } from \"../store/actions/roomActions\";\r\nimport Peer from \"simple-peer\";\r\nimport * as socketConnection from \"./socketConnection\";\r\n\r\nconst getConfiguration = () => {\r\n  const turnIceServers = null;\r\n\r\n  if (turnIceServers) {\r\n    // TODO use TURN server credentials\r\n  } else {\r\n    console.warn(\"Using only STUN server\");\r\n    return {\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n};\r\n\r\nconst onlyAudioConstraints = {\r\n  audio: true,\r\n  video: false,\r\n};\r\n\r\nconst defaultConstraints = {\r\n  video: true,\r\n  audio: true,\r\n};\r\n\r\nexport const getLocalStreamPreview = (onlyAudio = false, callbackFunc) => {\r\n  const constraints = onlyAudio ? onlyAudioConstraints : defaultConstraints;\r\n\r\n  navigator.mediaDevices\r\n    .getUserMedia(constraints)\r\n    .then((stream) => {\r\n      store.dispatch(setLocalStream(stream));\r\n      callbackFunc();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      console.log(\"Cannot get an access to local stream\");\r\n    });\r\n};\r\n\r\nlet peers = {};\r\n\r\nexport const prepareNewPeerConnection = (connUserSocketId, isInitiator) => {\r\n  const localStream = store.getState().room.localStream;\r\n\r\n  if (isInitiator) {\r\n    console.log(\"preparing new peer connection as initiator\");\r\n  } else {\r\n    console.log(\"preparing new peer connection as not initiator\");\r\n  }\r\n\r\n  peers[connUserSocketId] = new Peer({\r\n    initiator: isInitiator,\r\n    config: getConfiguration(),\r\n    stream: localStream,\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"signal\", (data) => {\r\n    const signalData = {\r\n      signal: data,\r\n      connUserSocketId: connUserSocketId,\r\n    };\r\n\r\n    socketConnection.signalPeerData(signalData);\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"stream\", (remoteStream) => {\r\n    // TODO\r\n    // add new remote stream to our server store\r\n    console.log(\"remote stream came from other user\");\r\n    console.log(\"direct connection has been established\");\r\n    remoteStream.connUserSocketId = connUserSocketId;\r\n    addNewRemoteStream(remoteStream);\r\n  });\r\n};\r\n\r\nexport const handleSignalingData = (data) => {\r\n  const { connUserSocketId, signal } = data;\r\n\r\n  if (peers[connUserSocketId]) {\r\n    peers[connUserSocketId].signal(signal);\r\n  }\r\n};\r\n\r\nconst addNewRemoteStream = (remoteStream) => {\r\n  const remoteStreams = store.getState().room.remoteStreams;\r\n  const newRemoteStreams = [...remoteStreams, remoteStream];\r\n\r\n  store.dispatch(setRemoteStreams(newRemoteStreams));\r\n};\r\n\r\nexport const closeAllConnections = () => {\r\n  Object.entries(peers).forEach((mappedObject) => {\r\n    const connUserSocketId = mappedObject[0];\r\n    if (peers[connUserSocketId]) {\r\n      peers[connUserSocketId].destroy();\r\n      delete peers[connUserSocketId];\r\n    }\r\n  });\r\n};\r\n\r\nexport const handleParticipantLeftRoom = (data) => {\r\n  const { connUserSocketId } = data;\r\n\r\n  if (peers[connUserSocketId]) {\r\n    peers[connUserSocketId].destroy();\r\n    delete peers[connUserSocketId];\r\n  }\r\n\r\n  const remoteStreams = store.getState().room.remoteStreams;\r\n\r\n  const newRemoteStreams = remoteStreams.filter(\r\n    (remoteStream) => remoteStream.connUserSocketId !== connUserSocketId\r\n  );\r\n\r\n  store.dispatch(setRemoteStreams(newRemoteStreams));\r\n};\r\n\r\nexport const switchOutgoingTracks = (stream) => {\r\n  for (let socket_id in peers) {\r\n    for (let index in peers[socket_id].streams[0].getTracks()) {\r\n      for (let index2 in stream.getTracks()) {\r\n        if (\r\n          peers[socket_id].streams[0].getTracks()[index].kind ===\r\n          stream.getTracks()[index2].kind\r\n        ) {\r\n          peers[socket_id].replaceTrack(\r\n            peers[socket_id].streams[0].getTracks()[index],\r\n            stream.getTracks()[index2],\r\n            peers[socket_id].streams[0]\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n","import io from \"socket.io-client\";\r\nimport {\r\n  setPendingFriendsInvitations,\r\n  setFriends,\r\n  setOnlineUsers,\r\n} from \"../store/actions/friendsActions\";\r\nimport store from \"../store/store\";\r\nimport { updateDirectChatHistoryIfActive } from \"../shared/utils/chat\";\r\nimport * as roomHandler from \"./roomHandler\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\n\r\nlet socket = null;\r\n\r\nexport const connectWithSocketServer = (userDetails) => {\r\n  const jwtToken = userDetails.token;\r\n\r\n  socket = io(\"http://192.168.43.174:5002\", {\r\n    auth: {\r\n      token: jwtToken,\r\n    },\r\n  });\r\n\r\n  socket.on(\"connect\", () => {\r\n    console.log(\"succesfully connected with socket.io server\");\r\n    console.log(socket.id);\r\n  });\r\n\r\n  socket.on(\"friends-invitations\", (data) => {\r\n    const { pendingInvitations } = data;\r\n    store.dispatch(setPendingFriendsInvitations(pendingInvitations));\r\n  });\r\n\r\n  socket.on(\"friends-list\", (data) => {\r\n    const { friends } = data;\r\n    store.dispatch(setFriends(friends));\r\n  });\r\n\r\n  socket.on(\"online-users\", (data) => {\r\n    const { onlineUsers } = data;\r\n    store.dispatch(setOnlineUsers(onlineUsers));\r\n  });\r\n\r\n  socket.on(\"direct-chat-history\", (data) => {\r\n    console.log(data);\r\n    updateDirectChatHistoryIfActive(data);\r\n  });\r\n\r\n  socket.on(\"room-create\", (data) => {\r\n    roomHandler.newRoomCreated(data);\r\n  });\r\n\r\n  socket.on(\"active-rooms\", (data) => {\r\n    roomHandler.updateActiveRooms(data);\r\n  });\r\n\r\n  socket.on(\"conn-prepare\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, false);\r\n    socket.emit(\"conn-init\", { connUserSocketId: connUserSocketId });\r\n  });\r\n\r\n  socket.on(\"conn-init\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, true);\r\n  });\r\n\r\n  socket.on(\"conn-signal\", (data) => {\r\n    webRTCHandler.handleSignalingData(data);\r\n  });\r\n\r\n  socket.on(\"room-participant-left\", (data) => {\r\n    console.log(\"user left room\");\r\n    webRTCHandler.handleParticipantLeftRoom(data);\r\n  });\r\n};\r\n\r\nexport const sendDirectMessage = (data) => {\r\n  console.log(data);\r\n  socket.emit(\"direct-message\", data);\r\n};\r\n\r\nexport const getDirectChatHistory = (data) => {\r\n  socket.emit(\"direct-chat-history\", data);\r\n};\r\n\r\nexport const createNewRoom = () => {\r\n  socket.emit(\"room-create\");\r\n};\r\n\r\nexport const joinRoom = (data) => {\r\n  socket.emit(\"room-join\", data);\r\n};\r\n\r\nexport const leaveRoom = (data) => {\r\n  socket.emit(\"room-leave\", data);\r\n};\r\n\r\nexport const signalPeerData = (data) => {\r\n  socket.emit(\"conn-signal\", data);\r\n};\r\n","import store from \"../store/store\";\r\nimport {\r\n  setOpenRoom,\r\n  setRoomDetails,\r\n  setActiveRooms,\r\n  setLocalStream,\r\n  setRemoteStreams,\r\n  setScreenSharingStream,\r\n  setIsUserJoinedOnlyWithAudio,\r\n} from \"../store/actions/roomActions\";\r\nimport * as socketConnection from \"./socketConnection\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\n\r\nexport const createNewRoom = () => {\r\n  const successCalbackFunc = () => {\r\n    store.dispatch(setOpenRoom(true, true));\r\n\r\n    const audioOnly = store.getState().room.audioOnly;\r\n    store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));\r\n    socketConnection.createNewRoom();\r\n  };\r\n\r\n  const audioOnly = store.getState().room.audioOnly;\r\n  webRTCHandler.getLocalStreamPreview(audioOnly, successCalbackFunc);\r\n};\r\n\r\nexport const newRoomCreated = (data) => {\r\n  const { roomDetails } = data;\r\n  store.dispatch(setRoomDetails(roomDetails));\r\n};\r\n\r\nexport const updateActiveRooms = (data) => {\r\n  const { activeRooms } = data;\r\n\r\n  const friends = store.getState().friends.friends;\r\n  const rooms = [];\r\n\r\n  const userId = store.getState().auth.userDetails?._id;\r\n\r\n  activeRooms.forEach((room) => {\r\n    const isRoomCreatedByMe = room.roomCreator.userId === userId;\r\n\r\n    if (isRoomCreatedByMe) {\r\n      rooms.push({ ...room, creatorUsername: \"Moi\" });\r\n    } else {\r\n      friends.forEach((f) => {\r\n        if (f.id === room.roomCreator.userId) {\r\n          rooms.push({ ...room, creatorUsername: f.username });\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  store.dispatch(setActiveRooms(rooms));\r\n};\r\n\r\nexport const joinRoom = (roomId) => {\r\n  const successCalbackFunc = () => {\r\n    store.dispatch(setRoomDetails({ roomId }));\r\n    store.dispatch(setOpenRoom(false, true));\r\n    const audioOnly = store.getState().room.audioOnly;\r\n    store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));\r\n    socketConnection.joinRoom({ roomId });\r\n  };\r\n\r\n  const audioOnly = store.getState().room.audioOnly;\r\n  webRTCHandler.getLocalStreamPreview(audioOnly, successCalbackFunc);\r\n};\r\n\r\nexport const leaveRoom = () => {\r\n  const roomId = store.getState().room.roomDetails.roomId;\r\n\r\n  const localStream = store.getState().room.localStream;\r\n  if (localStream) {\r\n    localStream.getTracks().forEach((track) => track.stop());\r\n    store.dispatch(setLocalStream(null));\r\n  }\r\n\r\n  const screenSharingStream = store.getState().room.screenSharingStream;\r\n  if (screenSharingStream) {\r\n    screenSharingStream.getTracks().forEach((track) => track.stop());\r\n    store.dispatch(setScreenSharingStream(null));\r\n  }\r\n\r\n  store.dispatch(setRemoteStreams([]));\r\n  webRTCHandler.closeAllConnections();\r\n\r\n  socketConnection.leaveRoom({ roomId });\r\n  store.dispatch(setRoomDetails(null));\r\n  store.dispatch(setOpenRoom(false, false));\r\n};\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\";\r\n\r\nconst CreateRoomButton = ({ isUserInRoom }) => {\r\n  const createNewRoomHandler = () => {\r\n    roomHandler.createNewRoom();\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      disabled={isUserInRoom}\r\n      onClick={createNewRoomHandler}\r\n      style={{\r\n        width: \"48px\",\r\n        height: \"48px\",\r\n        borderRadius: \"16px\",\r\n        margin: 0,\r\n        padding: 0,\r\n        minWidth: 0,\r\n        marginTop: \"10px\",\r\n        color: \"white\",\r\n        backgroundColor: \"#5865F2\",\r\n      }}\r\n    >\r\n      <AddIcon />\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default CreateRoomButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst AvatarPreview = styled(\"div\")({\r\n  height: \"47.5px\",\r\n  width: \"47.5px\",\r\n  backgroundColor: \"#5865f2\",\r\n  borderRadius: \"42px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  fontSize: \"17.5px\",\r\n  fontWeight: \"700\",\r\n  color: \"white\",\r\n});\r\n\r\nconst Avatar = ({ username, large }) => {\r\n  return (\r\n    <AvatarPreview style={large ? { height: \"80px\", width: \"80px\" } : {}}>\r\n      {username.substring(0, 3)}\r\n    </AvatarPreview>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport Avatar from \"../../shared/components/Avatar\";\r\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\";\r\n\r\nconst ActiveRoomButton = ({\r\n  creatorUsername,\r\n  roomId,\r\n  amountOfParticipants,\r\n  isUserInRoom,\r\n}) => {\r\n  const handleJoinActiveRoom = () => {\r\n    if (amountOfParticipants < 4) {\r\n      roomHandler.joinRoom(roomId);\r\n    }\r\n  };\r\n\r\n  const activeRoomButtonDisabled = amountOfParticipants > 3;\r\n  const roomTitle = `Créer par: ${creatorUsername}. Connecté: ${amountOfParticipants}`;\r\n\r\n  return (\r\n    <Tooltip title={roomTitle}>\r\n      <div>\r\n        <Button\r\n          style={{\r\n            width: \"48px\",\r\n            height: \"48px\",\r\n            borderRadius: \"16px\",\r\n            margin: 0,\r\n            padding: 0,\r\n            minWidth: 0,\r\n            marginTop: \"10px\",\r\n            color: \"white\",\r\n            backgroundColor: \"#5865F2\",\r\n          }}\r\n          disabled={activeRoomButtonDisabled || isUserInRoom}\r\n          onClick={handleJoinActiveRoom}\r\n        >\r\n          <Avatar username={creatorUsername} />\r\n        </Button>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default ActiveRoomButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport MainPageButton from \"./MainPageButton\";\r\nimport CreateRoomButton from \"./CreateRoomButton\";\r\nimport { connect } from \"react-redux\";\r\nimport ActiveRoomButton from \"./ActiveRoomButton\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"72px\",\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"#202225\",\r\n});\r\n\r\nconst SideBar = ({ activeRooms, isUserInRoom }) => {\r\n  return (\r\n    <MainContainer>\r\n      <MainPageButton />\r\n      <CreateRoomButton isUserInRoom={isUserInRoom} />\r\n      {activeRooms.map((room) => (\r\n        <ActiveRoomButton\r\n          roomId={room.roomId}\r\n          creatorUsername={room.creatorUsername}\r\n          amountOfParticipants={room.participants.length}\r\n          key={room.roomId}\r\n          isUserInRoom={isUserInRoom}\r\n        />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(SideBar);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { validateMail } from \"../../shared/utils/validators\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/friendsActions\";\r\n\r\nconst AddFriendDialog = ({\r\n  isDialogOpen,\r\n  closeDialogHandler,\r\n  sendFriendInvitation = () => {},\r\n}) => {\r\n  const [mail, setMail] = useState(\"\");\r\n  const [isFormValid, setIsFormValid] = useState(\"\");\r\n\r\n  const handleSendInvitation = () => {\r\n    sendFriendInvitation(\r\n      {\r\n        targetMailAddress: mail,\r\n      },\r\n      handleCloseDialog\r\n    );\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    closeDialogHandler();\r\n    setMail(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(validateMail(mail));\r\n  }, [mail, setIsFormValid]);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={isDialogOpen} onClose={handleCloseDialog}>\r\n        <DialogTitle>\r\n          <Typography>Invité un ami</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <Typography>\r\n              Entrer l'adresse e-mail d'un amis que vous voulez invitez.\r\n            </Typography>\r\n          </DialogContentText>\r\n          <InputWithLabel\r\n            label=\"Mail\"\r\n            type=\"text\"\r\n            value={mail}\r\n            setValue={setMail}\r\n            placeholder=\"Entrer l'adresse e-mail\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <CustomPrimaryButton\r\n            onClick={handleSendInvitation}\r\n            disabled={!isFormValid}\r\n            label=\"Envoyer\"\r\n            additionalStyles={{\r\n              marginLeft: \"15px\",\r\n              marginRight: \"15px\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          />\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(AddFriendDialog);\r\n","import React, { useState } from \"react\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport AddFriendDialog from \"./AddFriendDialog\";\r\n\r\nconst additionalStyles = {\r\n  marginTop: \"10px\",\r\n  marginLeft: \"5px\",\r\n  width: \"80%\",\r\n  height: \"30px\",\r\n  background: \"#3ba55d\",\r\n};\r\n\r\nconst AddFriendButton = () => {\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n\r\n  const handleOpenAddFriendDialog = () => {\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseAddFriendDialog = () => {\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CustomPrimaryButton\r\n        additionalStyles={additionalStyles}\r\n        label=\"Ajouter un ami\"\r\n        onClick={handleOpenAddFriendDialog}\r\n      />\r\n      <AddFriendDialog\r\n        isDialogOpen={isDialogOpen}\r\n        closeDialogHandler={handleCloseAddFriendDialog}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddFriendButton;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst FriendsTitle = ({ title }) => {\r\n  return (\r\n    <Typography\r\n      sx={{\r\n        textTransform: \"uppercase\",\r\n        color: \"#8e9297\",\r\n        fontSize: \"14px\",\r\n        marginTop: \"10px\",\r\n      }}\r\n    >\r\n      {title}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default FriendsTitle;\r\n","import React from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport FiberManualRecordIcon from \"@mui/icons-material/FiberManualRecord\";\r\n\r\nconst OnlineIndicator = () => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        color: \"#3ba55d\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        right: \"5px\",\r\n      }}\r\n    >\r\n      <FiberManualRecordIcon />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OnlineIndicator;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport OnlineIndicator from \"./OnlineIndicator\";\r\nimport { chatTypes, getActions } from \"../../../store/actions/chatActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst FriendsListItem = ({ id, username, isOnline, setChosenChatDetails }) => {\r\n  const handleChooseActiveConversation = () => {\r\n    setChosenChatDetails({ id: id, name: username }, chatTypes.DIRECT);\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      onClick={handleChooseActiveConversation}\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"42px\",\r\n        marginTop: \"10px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-start\",\r\n        textTransform: \"none\",\r\n        color: \"black\",\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <Avatar username={username} />\r\n      <Typography\r\n        style={{\r\n          marginLeft: \"7px\",\r\n          fontWeight: 700,\r\n          color: \"#8e9297\",\r\n        }}\r\n        variant=\"subtitle1\"\r\n        align=\"left\"\r\n      >\r\n        {username}\r\n      </Typography>\r\n      {isOnline && <OnlineIndicator />}\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(FriendsListItem);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport FriendsListItem from \"./FriendsListItem\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  flexGrow: 1,\r\n  width: \"100%\",\r\n});\r\n\r\nconst checkOnlineUsers = (friends = [], onlineUsers = []) => {\r\n  friends.forEach((f) => {\r\n    const isUserOnline = onlineUsers.find((user) => user.userId === f.id);\r\n    f.isOnline = isUserOnline ? true : false;\r\n  });\r\n\r\n  return friends;\r\n};\r\n\r\nconst FriendsList = ({ friends, onlineUsers }) => {\r\n  return (\r\n    <MainContainer>\r\n      {checkOnlineUsers(friends, onlineUsers).map((f) => (\r\n        <FriendsListItem\r\n          username={f.username}\r\n          id={f.id}\r\n          key={f.id}\r\n          isOnline={f.isOnline}\r\n        />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ friends }) => {\r\n  return {\r\n    ...friends,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(FriendsList);\r\n","import React from \"react\";\r\nimport CheckIcon from \"@mui/icons-material/Check\";\r\nimport ClearIcon from \"@mui/icons-material/Clear\";\r\nimport Box from \"@mui/material/Box\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\n\r\nconst InvitationDecisionButtons = ({\r\n  disabled,\r\n  acceptInvitationHandler,\r\n  rejectInvitationHandler,\r\n}) => {\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      <IconButton\r\n        style={{ color: \"white\" }}\r\n        disabled={disabled}\r\n        onClick={acceptInvitationHandler}\r\n      >\r\n        <CheckIcon />\r\n      </IconButton>\r\n      <IconButton\r\n        style={{ color: \"white\" }}\r\n        disabled={disabled}\r\n        onClick={rejectInvitationHandler}\r\n      >\r\n        <ClearIcon />\r\n      </IconButton>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default InvitationDecisionButtons;\r\n","import React, { useState } from \"react\";\r\nimport { Tooltip, Typography, Box } from \"@mui/material\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport InvitationDecisionButtons from \"./InvitationDecisionButtons\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../../store/actions/friendsActions\";\r\n\r\nconst PendingInvitationsListItem = ({\r\n  id,\r\n  username,\r\n  mail,\r\n  acceptFriendInvitation = () => {},\r\n  rejectFriendInvitation = () => {},\r\n}) => {\r\n  const [buttonsDisabled, setButtonsDisabled] = useState(false);\r\n\r\n  const handleAcceptInvitation = () => {\r\n    console.log(id);\r\n    acceptFriendInvitation({ id });\r\n    setButtonsDisabled(true);\r\n  };\r\n\r\n  const handleRejectInvitation = () => {\r\n    console.log(id);\r\n    rejectFriendInvitation({ id });\r\n    setButtonsDisabled(true);\r\n  };\r\n\r\n  return (\r\n    <Tooltip title={mail}>\r\n      <div style={{ width: \"100%\" }}>\r\n        <Box\r\n          sx={{\r\n            width: \"100%\",\r\n            height: \"42px\",\r\n            marginTop: \"10px\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Avatar username={username} />\r\n          <Typography\r\n            sx={{\r\n              marginLeft: \"7px\",\r\n              fontWeight: 700,\r\n              color: \"#8e9297\",\r\n              flexGrow: 1,\r\n            }}\r\n            variant=\"subtitle1\"\r\n          >\r\n            {username}\r\n          </Typography>\r\n          <InvitationDecisionButtons\r\n            disabled={buttonsDisabled}\r\n            acceptInvitationHandler={handleAcceptInvitation}\r\n            rejectInvitationHandler={handleRejectInvitation}\r\n          />\r\n        </Box>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(PendingInvitationsListItem);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport PendingInvitationsListItem from \"./PendingInvitationsListItem\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"100%\",\r\n  height: \"22%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  overflow: \"auto\",\r\n});\r\n\r\nconst PendingInvitationsList = ({ pendingFriendsInvitations }) => {\r\n  return (\r\n    <MainContainer>\r\n      {pendingFriendsInvitations.map((invitation) => (\r\n        <PendingInvitationsListItem\r\n          key={invitation._id}\r\n          id={invitation._id}\r\n          username={invitation.senderId.username}\r\n          mail={invitation.senderId.mail}\r\n        />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ friends }) => {\r\n  return {\r\n    ...friends,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(PendingInvitationsList);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport AddFriendButton from \"./AddFriendButton\";\r\nimport FriendsTitle from \"./FriendsTitle\";\r\nimport FriendsList from \"./FriendsList/FriendsList\";\r\nimport PendingInvitationsList from \"./PendingInvitationsList/PendingInvitationsList\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"224px\",\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"#2F3136\",\r\n});\r\n\r\nconst FriendsSideBar = () => {\r\n  return (\r\n    <MainContainer>\r\n      <AddFriendButton />\r\n      <FriendsTitle title=\"Messages privées\" />\r\n      <FriendsList />\r\n      <FriendsTitle title=\"Invitations\" />\r\n      <PendingInvitationsList />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default FriendsSideBar;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  flexGrow: 1,\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst WelcomeMessage = () => {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant=\"h6\" sx={{ color: \"white\" }}>\r\n        Pour demarrer une discussion - veuillez choisir un ami\r\n      </Typography>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default WelcomeMessage;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"98%\",\r\n  display: \"column\",\r\n  marginTop: \"10px\",\r\n});\r\n\r\nconst MessagesHeader = ({ name = \"\" }) => {\r\n  return (\r\n    <MainContainer>\r\n      <Avatar large username={name} />\r\n      <Typography\r\n        variant=\"h4\"\r\n        sx={{\r\n          fontWeight: \"bold\",\r\n          color: \"white\",\r\n          marginLeft: \"5px\",\r\n          marginRight: \"5px\",\r\n        }}\r\n      >\r\n        {name}\r\n      </Typography>\r\n      <Typography\r\n        sx={{\r\n          color: \"#b9bbbe\",\r\n          marginLeft: \"5px\",\r\n          marginRight: \"5px\",\r\n        }}\r\n      >\r\n        Voici le début de votre conversation {name}\r\n      </Typography>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default MessagesHeader;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"97%\",\r\n  display: \"flex\",\r\n  marginTop: \"10px\",\r\n});\r\n\r\nconst AvatarContainer = styled(\"div\")({\r\n  width: \"70px\",\r\n});\r\n\r\nconst MessageContainer = styled(\"div\")({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n});\r\n\r\nconst MessageContent = styled(\"div\")({\r\n  color: \"#DCDDDE\",\r\n});\r\n\r\nconst SameAuthorMessageContent = styled(\"div\")({\r\n  color: \"#DCDDDE\",\r\n  width: \"97%\",\r\n});\r\n\r\nconst SameAuthorMessageText = styled(\"span\")({\r\n  marginLeft: \"70px\",\r\n});\r\n\r\nconst Message = ({ content, sameAuthor, username, date, sameDay }) => {\r\n  if (sameAuthor && sameDay) {\r\n    return (\r\n      <SameAuthorMessageContent>\r\n        <SameAuthorMessageText>{content}</SameAuthorMessageText>\r\n      </SameAuthorMessageContent>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <MainContainer>\r\n      <AvatarContainer>\r\n        <Avatar username={username} />\r\n      </AvatarContainer>\r\n      <MessageContainer>\r\n        <Typography style={{ fontSize: \"17.5px\", color: \"white\", }}>\r\n          {username}{\" \"}: <span style={{ fontSize: \"12px\", color: \"#72767d\", }}>{date}</span>\r\n        </Typography>\r\n        <MessageContent>{content}</MessageContent>\r\n      </MessageContainer>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst Separator = styled(\"div\")({\r\n  width: \"95%\",\r\n  backgroundColor: \"#b9bbbe\",\r\n  height: \"1px\",\r\n  position: \"relative\",\r\n  marginTop: \"20px\",\r\n  marginBottom: \"10px\",\r\n});\r\n\r\nconst DateLabel = styled(\"span\")({\r\n  backgroundColor: \"#36393f\",\r\n  position: \"absolute\",\r\n  left: \"45%\",\r\n  top: \"-10px\",\r\n  color: \"#b9bbbe\",\r\n  padding: \"0 5px\",\r\n  fontSize: \"14px\",\r\n});\r\n\r\nconst DateSeparator = ({ date }) => {\r\n  return (\r\n    <Separator>\r\n      <DateLabel>{date}</DateLabel>\r\n    </Separator>\r\n  );\r\n};\r\n\r\nexport default DateSeparator;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport MessagesHeader from \"./MessagesHeader\";\r\nimport { connect } from \"react-redux\";\r\nimport Message from \"./Message\";\r\nimport DateSeparator from \"./DateSeparator\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"calc(100% - 60px)\",\r\n  overflow: \"auto\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n});\r\n\r\nconst convertDateToHumanReadable = (date, format) => {\r\n  const map = {\r\n    mm: date.getMonth() + 1,\r\n    dd: date.getDate(),\r\n    yy: date.getFullYear().toString().slice(-2),\r\n    yyyy: date.getFullYear(),\r\n  };\r\n\r\n  return format.replace(/mm|dd|yy|yyy/gi, (matched) => map[matched]);\r\n};\r\n\r\nconst Messages = ({ chosenChatDetails, messages }) => {\r\n  return (\r\n    <MainContainer>\r\n      <MessagesHeader name={chosenChatDetails?.name} />\r\n      {messages.map((message, index) => {\r\n        const sameAuthor =\r\n          index > 0 &&\r\n          messages[index].author._id === messages[index - 1].author._id;\r\n\r\n        const sameDay =\r\n          index > 0 &&\r\n          convertDateToHumanReadable(new Date(message.date), \"dd/mm/yy\") ===\r\n            convertDateToHumanReadable(\r\n              new Date(messages[index - 1].date),\r\n              \"dd/mm/yy\"\r\n            );\r\n\r\n        return (\r\n          <div key={message._id} style={{ width: \"97%\" }}>\r\n            {(!sameDay || index === 0) && (\r\n              <DateSeparator\r\n                date={convertDateToHumanReadable(\r\n                  new Date(message.date),\r\n                  \"dd/mm/yy\"\r\n                )}\r\n              />\r\n            )}\r\n            <Message\r\n              content={message.content}\r\n              username={message.author.username}\r\n              sameAuthor={sameAuthor}\r\n              date={convertDateToHumanReadable(\r\n                new Date(message.date),\r\n                \"dd/mm/yy\"\r\n              )}\r\n              sameDay={sameDay}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ chat }) => {\r\n  return {\r\n    ...chat,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(Messages);\r\n","import React, { useState } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { connect } from \"react-redux\";\r\nimport { sendDirectMessage } from \"../../realtimeCommunication/socketConnection\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"60px\",\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst Input = styled(\"input\")({\r\n  backgroundColor: \"#2f3136\",\r\n  width: \"98%\",\r\n  height: \"44px\",\r\n  color: \"white\",\r\n  border: \"none\",\r\n  borderRadius: \"8px\",\r\n  fontSize: \"14px\",\r\n  padding: \"0 10px\",\r\n});\r\n\r\nconst NewMessageInput = ({ chosenChatDetails }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleMessageValueChange = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  const handleKeyPressed = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = () => {\r\n    if (message.length > 0) {\r\n      sendDirectMessage({\r\n        receiverUserId: chosenChatDetails.id,\r\n        content: message,\r\n      });\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <Input\r\n        placeholder={`Ecrire un message pour ${chosenChatDetails.name}`}\r\n        value={message}\r\n        onChange={handleMessageValueChange}\r\n        onKeyDown={handleKeyPressed}\r\n      />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ chat }) => {\r\n  return {\r\n    ...chat,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(NewMessageInput);\r\n","import React, { useEffect } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport Messages from \"./Messages/Messages\";\r\nimport NewMessageInput from \"./NewMessageInput\";\r\nimport { getDirectChatHistory } from \"../../realtimeCommunication/socketConnection\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  flexGrow: 1,\r\n});\r\n\r\nconst MessengerContent = ({ chosenChatDetails }) => {\r\n  useEffect(() => {\r\n    getDirectChatHistory({\r\n      receiverUserId: chosenChatDetails.id,\r\n    });\r\n  }, [chosenChatDetails]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Messages />\r\n      <NewMessageInput />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MessengerContent;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { connect } from \"react-redux\";\r\nimport WelcomeMessage from \"./WelcomeMessage\";\r\nimport MessengerContent from \"./MessengerContent\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  flexGrow: 1,\r\n  backgroundColor: \"#36393f\",\r\n  marginTop: \"48px\",\r\n  display: \"flex\",\r\n});\r\n\r\nconst Messenger = ({ chosenChatDetails }) => {\r\n  return (\r\n    <MainContainer>\r\n      {!chosenChatDetails ? (\r\n        <WelcomeMessage />\r\n      ) : (\r\n        <MessengerContent chosenChatDetails={chosenChatDetails} />\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ chat }) => {\r\n  return {\r\n    ...chat,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(Messenger);\r\n","import * as React from \"react\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport { logout } from \"../../shared/utils/auth\";\r\nimport { getActions } from \"../../store/actions/roomActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst BasicMenu = ({ audioOnly, setAudioOnly }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleAudioOnlyChange = () => {\r\n    setAudioOnly(!audioOnly);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton onClick={handleMenuOpen} style={{ color: \"white\" }}>\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"basic-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleMenuClose}\r\n        MenuListProps={{\r\n          \"aria-labelledby\": \"basic-button\",\r\n        }}\r\n      >\r\n        <MenuItem onClick={logout}>Se déconnecter</MenuItem>\r\n        <MenuItem onClick={handleAudioOnlyChange}>\r\n          {audioOnly ? \"Audio uniquement\" : \"Audio et video\"}\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(BasicMenu);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst ChosenOptionLabel = ({ name }) => {\r\n  return (\r\n    <Typography\r\n      sx={{ fontSize: \"16px\", color: \"white\", fontWeight: \"bold\" }}\r\n    >{`${name ? `Choisir conversation: ${name}` : \"\"}`}</Typography>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    name: state.chat.chosenChatDetails?.name,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(ChosenOptionLabel);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport DropdownMenu from \"./DropdownMenu\";\r\nimport ChosenOptionLabel from \"./ChosenOptionLabel\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  right: \"0\",\r\n  top: \"0\",\r\n  height: \"48px\",\r\n  borderBottom: \"1px solid black\",\r\n  backgroundColor: \"#36393f\",\r\n  width: \"calc(100% - 326px)\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"space-between\",\r\n  padding: \"0 15px\",\r\n});\r\n\r\nconst AppBar = () => {\r\n  return (\r\n    <MainContainer>\r\n      <ChosenOptionLabel />\r\n      <DropdownMenu />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseFullscreenIcon from \"@mui/icons-material/CloseFullscreen\";\r\nimport OpenInFullIcon from \"@mui/icons-material/OpenInFull\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  bottom: \"10px\",\r\n  right: \"10px\",\r\n});\r\n\r\nconst ResizeRoomButton = ({ isRoomMinimized, handleRoomResize }) => {\r\n  return (\r\n    <MainContainer>\r\n      <IconButton style={{ color: \"white\" }} onClick={handleRoomResize}>\r\n        {isRoomMinimized ? <OpenInFullIcon /> : <CloseFullscreenIcon />}\r\n      </IconButton>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ResizeRoomButton;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"50%\",\r\n  width: \"50%\",\r\n  backgroundColor: \"black\",\r\n  borderRadius: \"8px\",\r\n});\r\n\r\nconst VideoEl = styled(\"video\")({\r\n  width: \"100%\",\r\n  height: \"100%\",\r\n});\r\n\r\nconst Video = ({ stream, isLocalStream }) => {\r\n  const videoRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    video.srcObject = stream;\r\n\r\n    video.onloadedmetadata = () => {\r\n      video.play();\r\n    };\r\n  }, [stream]);\r\n\r\n  return (\r\n    <MainContainer>\r\n      <VideoEl ref={videoRef} autoPlay muted={isLocalStream ? true : false} />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { connect } from \"react-redux\";\r\nimport Video from \"./Video\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"85%\",\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  flexWrap: \"wrap\",\r\n});\r\n\r\nconst VideosContainer = ({\r\n  localStream,\r\n  remoteStreams,\r\n  screenSharingStream,\r\n}) => {\r\n  return (\r\n    <MainContainer>\r\n      <Video\r\n        stream={screenSharingStream ? screenSharingStream : localStream}\r\n        isLocalStream\r\n      />\r\n      {remoteStreams.map((stream) => (\r\n        <Video stream={stream} key={stream.id} />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(VideosContainer);\r\n","import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport VideocamIcon from \"@mui/icons-material/Videocam\";\r\nimport VideocamOffIcon from \"@mui/icons-material/VideocamOff\";\r\n\r\nconst CameraButton = ({ localStream }) => {\r\n  const [cameraEnabled, setCameraEnabled] = useState(true);\r\n\r\n  const handleToggleCamera = () => {\r\n    localStream.getVideoTracks()[0].enabled = !cameraEnabled;\r\n    setCameraEnabled(!cameraEnabled);\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleToggleCamera} style={{ color: \"white\" }}>\r\n      {cameraEnabled ? <VideocamIcon /> : <VideocamOffIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default CameraButton;\r\n","import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport MicIcon from \"@mui/icons-material/Mic\";\r\nimport MicOffIcon from \"@mui/icons-material/MicOff\";\r\n\r\nconst MicButton = ({ localStream }) => {\r\n  const [micEnabled, setMicEnabled] = useState(true);\r\n\r\n  const handleToggleMic = () => {\r\n    localStream.getAudioTracks()[0].enabled = !micEnabled;\r\n    setMicEnabled(!micEnabled);\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleToggleMic} style={{ color: \"white\" }}>\r\n      {micEnabled ? <MicIcon /> : <MicOffIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default MicButton;\r\n","import React from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport * as roomHandler from \"../../../realtimeCommunication/roomHandler\";\r\n\r\nconst CloseRoomButton = () => {\r\n  const handleLeaveRoom = () => {\r\n    roomHandler.leaveRoom();\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleLeaveRoom} style={{ color: \"white\" }}>\r\n      <CloseIcon />\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default CloseRoomButton;\r\n","import React from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport ScreenShareIcon from \"@mui/icons-material/ScreenShare\";\r\nimport StopScreenShareIcon from \"@mui/icons-material/StopScreenShare\";\r\nimport * as webRTCHandler from \"../../../realtimeCommunication/webRTCHandler\";\r\n\r\nconst constraints = {\r\n  audio: false,\r\n  video: true,\r\n};\r\n\r\nconst ScreenShareButton = ({\r\n  localStream,\r\n  screenSharingStream,\r\n  setScreenSharingStream,\r\n  isScreenSharingActive,\r\n}) => {\r\n  const handleScreenShareToggle = async () => {\r\n    if (!isScreenSharingActive) {\r\n      let stream = null;\r\n      try {\r\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\r\n      } catch (err) {\r\n        console.log(\r\n          \"error occured when trying to get an access to screen share stream\"\r\n        );\r\n      }\r\n\r\n      if (stream) {\r\n        setScreenSharingStream(stream);\r\n        webRTCHandler.switchOutgoingTracks(stream);\r\n      }\r\n    } else {\r\n      webRTCHandler.switchOutgoingTracks(localStream);\r\n      screenSharingStream.getTracks().forEach((t) => t.stop());\r\n      setScreenSharingStream(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleScreenShareToggle} style={{ color: \"white\" }}>\r\n      {isScreenSharingActive ? <StopScreenShareIcon /> : <ScreenShareIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default ScreenShareButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport CameraButton from \"./CameraButton\";\r\nimport MicButton from \"./MicButton\";\r\nimport CloseRoomButton from \"./CloseRoomButton\";\r\nimport ScreenShareButton from \"./ScreenShareButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../../store/actions/roomActions\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"15%\",\r\n  width: \"100%\",\r\n  backgroundColor: \"#5865f2\",\r\n  borderTopLeftRadius: \"8px\",\r\n  borderTopRightRadius: \"8px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst RoomButtons = (props) => {\r\n  const { localStream, isUserJoinedWithOnlyAudio } = props;\r\n\r\n  return (\r\n    <MainContainer>\r\n      {!isUserJoinedWithOnlyAudio && <ScreenShareButton {...props} />}\r\n      <MicButton localStream={localStream} />\r\n      <CloseRoomButton />\r\n      {!isUserJoinedWithOnlyAudio && <CameraButton localStream={localStream} />}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(RoomButtons);\r\n","import React, { useState } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport ResizeRoomButton from \"./ResizeRoomButton\";\r\nimport VideosContainer from \"./VideosContainer\";\r\nimport RoomButtons from \"./RoomButtons/RoomButtons\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  borderRadius: \"8px\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  backgroundColor: \"#202225\",\r\n});\r\n\r\nconst fullScreenRoomStyle = {\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n};\r\n\r\nconst minimizedRoomStyle = {\r\n  bottom: \"0px\",\r\n  right: \"0px\",\r\n  width: \"30%\",\r\n  height: \"40vh\",\r\n};\r\n\r\nconst Room = () => {\r\n  const [isRoomMinimized, setIsRoomMinimized] = useState(true);\r\n\r\n  const roomResizeHandler = () => {\r\n    setIsRoomMinimized(!isRoomMinimized);\r\n  };\r\n\r\n  return (\r\n    <MainContainer\r\n      style={isRoomMinimized ? minimizedRoomStyle : fullScreenRoomStyle}\r\n    >\r\n      <VideosContainer />\r\n      <RoomButtons />\r\n      <ResizeRoomButton\r\n        isRoomMinimized={isRoomMinimized}\r\n        handleRoomResize={roomResizeHandler}\r\n      />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import React, { useEffect } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport SideBar from \"./SideBar/SideBar\";\r\nimport FriendsSideBar from \"./FriendsSideBar/FriendsSideBar\";\r\nimport Messenger from \"./Messenger/Messenger\";\r\nimport AppBar from \"./AppBar/AppBar\";\r\nimport { logout } from \"../shared/utils/auth\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../store/actions/authActions\";\r\nimport { connectWithSocketServer } from \"../realtimeCommunication/socketConnection\";\r\nimport Room from \"./Room/Room\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n  display: \"flex\",\r\n});\r\n\r\nconst Dashboard = ({ setUserDetails, isUserInRoom }) => {\r\n  useEffect(() => {\r\n    const userDetails = localStorage.getItem(\"user\");\r\n\r\n    if (!userDetails) {\r\n      logout();\r\n    } else {\r\n      setUserDetails(JSON.parse(userDetails));\r\n      connectWithSocketServer(JSON.parse(userDetails));\r\n    }\r\n// eslint-disable-next-line  \r\n  }, []);\r\n  \r\n\r\n  return (\r\n    <Wrapper>\r\n      <SideBar />\r\n      <FriendsSideBar />\r\n      <Messenger />\r\n      <AppBar />\r\n      {isUserInRoom && <Room />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(Dashboard);\r\n","export default __webpack_public_path__ + \"static/media/btob.2e674695.png\";","export default __webpack_public_path__ + \"static/media/discord.1761b39c.png\";","export default __webpack_public_path__ + \"static/media/follow.9687f7c2.png\";","export default __webpack_public_path__ + \"static/media/podcast.322a3cf1.png\";","export default __webpack_public_path__ + \"static/media/recherche.b2c45d5a.png\";","export default __webpack_public_path__ + \"static/media/wifi.c8c4ea2f.png\";","export default __webpack_public_path__ + \"static/media/ProgResApp1.a7fc07c6.png\";","export default __webpack_public_path__ + \"static/media/Contact.7d0b3004.jpg\";","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport \"./HomeStyle.css\";\r\nimport icon1 from \"./image/btob.png\";\r\nimport icon2 from \"./image/discord.png\";\r\nimport icon3 from \"./image/follow.png\";\r\nimport icon4 from \"./image/podcast.png\";\r\nimport icon5 from \"./image/recherche.png\";\r\nimport icon6 from \"./image/wifi.png\";\r\nimport appercu from \"./image/ProgResApp1.png\";\r\nimport contact from \"./image/Contact.jpg\";\r\n\r\nfunction HomePage() {\r\n  return (\r\n    <div className=\"homePage\" id=\"Accueil\">\r\n      <div className=\"header\">\r\n        <div className=\"navbar\">\r\n          <div className=\"logo\">\r\n            <h1>K<span>c</span>-Gr<span>a</span>m</h1>  \r\n          </div>\r\n          <div className=\"parcourir\">\r\n            <ul>\r\n              <li><a href='#Accueil' className=\"link__mod\">Accueil</a></li>\r\n              <li><a href='#Description' className=\"link__mod\">Description</a></li>\r\n              <li><a href='#Contact' className=\"link__mod\">Contact</a></li>\r\n              <li><a href='#Propos' className=\"link__mod\">A propos</a></li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"login-btn\">\r\n            <Link to='/login' className=\"link__btn\">Se connecter</Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"header-content\">\r\n          <p>On vous propose une plateforme de discussion facile à utiliser, une prise en main confortable. Elle est gratuit et ont des nombreuses fonctionnalités.</p>\r\n          Pour s'inscrire veuillez cliquer ici : <Link to='/register'>s'inscrire</Link>\r\n        </div>\r\n\r\n        <img className=\"icon1\" src={icon1} alt=\"\"/>\r\n        <img className=\"icon2\" src={icon2} alt=\"\"/>\r\n        <img className=\"icon3\" src={icon3} alt=\"\"/>\r\n        <img className=\"icon4\" src={icon4} alt=\"\"/>\r\n        <img className=\"icon5\" src={icon5} alt=\"\"/>\r\n        <img className=\"icon6\" src={icon6} alt=\"\"/> \r\n      </div>\r\n\r\n      <div className=\"main\">\r\n        <div className=\"description\">\r\n          <h2 className=\"titre__desc\" id=\"Description\">Description :</h2>\r\n          <div className=\"desc_content\">\r\n            <div className='desc_left'>\r\n              <p>L'application comporte :</p>\r\n              <ul>\r\n                <li>Une authentification fiable</li>\r\n                <li>Invitation d'amis</li>\r\n                <li>Chat-app ou discussion entre amis</li>\r\n                <li>Appel-video avec audio ou sans audio et vis versa</li>\r\n                <li>Partage de l'écran, utile pour l'entraide</li>\r\n              </ul>\r\n\r\n              <p>Objectif de l'application :</p>\r\n              <ul>\r\n                <li>Pour faciliter la communication entre les amis</li>\r\n                <li>Pour l'entraide qui est la rôle principale de la partage ecran</li>\r\n                <li>Connectivité en suretté avec la fonction message privée</li>\r\n                <li>Alternative app de communication en cas de besoins</li>\r\n              </ul> \r\n\r\n              <p>Elle comporte deux types d'utilisation :</p>\r\n              <ul>\r\n                <li>En local</li>\r\n                <li>Sur internet</li>\r\n              </ul> \r\n\r\n              <h2>NB: En tant qu'étudiant, On a develloper cette application pour facilité l'entraide entre étudiant.</h2>\r\n            </div>\r\n            <div className='desc_right'>\r\n              <h2 className='titre_right'>Appercus de l'application :</h2>\r\n              <img className=\"appercu_img\" src={appercu} alt=''/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"contact\" id=\"Contact\">\r\n            <h2 className=\"titre_contact\">Contact :</h2>\r\n            <div className='contact_content'>\r\n              <div className=\"contact_left\">\r\n                  <img className=\"contact_img\" src={contact} alt=''/>\r\n              </div>\r\n\r\n              <div className=\"contact_right\">\r\n                  <h2>Telephone : </h2>\r\n                      034 94 220 85\r\n                  <h2>Email : </h2>\r\n                      Jharinel10@gmail.com\r\n                  <h2>Localisation : </h2>\r\n                      <p>Anosizato, Antananarivo</p>\r\n                      <p>Andrainjato, Fianarantsoa</p>        \r\n              </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"footer\" id='Propos'>\r\n        <div className=\"footer-left\"></div>\r\n        <div className=\"footer-center\"></div>\r\n        <div className=\"footer-bottom\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage","import React from \"react\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/alertActions\";\r\n\r\nconst AlertNotification = ({\r\n  showAlertMessage,\r\n  closeAlertMessage,\r\n  alertMessageContent,\r\n}) => {\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      open={showAlertMessage}\r\n      onClose={closeAlertMessage}\r\n      autoHideDuration={6000}\r\n    >\r\n      <Alert severity=\"info\">{alertMessageContent}</Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ alert }) => {\r\n  return {\r\n    ...alert,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStoreStateToProps,\r\n  mapActionsToProps\r\n)(AlertNotification);\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport LoginPage from \"./authPages/LoginPage/LoginPage\";\nimport RegisterPage from \"./authPages/RegisterPage/RegisterPage\";\nimport Dashboard from \"./Dashboard/Dashboard\";\nimport HomePage from \"./homePage/HomePage\";\nimport AlertNotification from \"./shared/components/AlertNotification\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route exact path=\"/register\">\n            <RegisterPage />\n          </Route>\n          <Route exact path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n          <Route exact path=\"/homePage\">\n            <HomePage />\n          </Route>\n          <Route path=\"/\">\n            <Redirect to=\"/homePage\"/>\n          </Route>\n        </Switch>\n      </Router>\n      <AlertNotification />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}